<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slither Sweetheart</title>
    <link rel="stylesheet" href="style-valentine.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&family=Dancing+Script:wght@700&display=swap');

        .heart {
            position: absolute;
            pointer-events: none;
            animation: float linear infinite;
            bottom: -50px;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(calc(-100vh - 100px)) rotate(360deg);
                opacity: 0;
            }
        }
        
        :root {
            --valentine-pink: #ff6b8b;
            --valentine-red: #ff2d4e;
            --valentine-dark: #eed7dd;
            --cny-red: #e53935;
            --cny-gold: #ffd700;
            --cny-dark: #b71c1c;
        }
        
        .valentine-player {
            position: relative;
            width: 320px;
            background: url(../assets/bg/art-valentine.jpg);
            background-size: cover;
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(255, 45, 78, 0.2);
            padding: 25px;
            text-align: center;
            overflow: hidden;
            z-index: 1;
            transition: all 0.5s ease;
        }

        /* Chinese New Year Theme */
        .valentine-player.cny-theme {
            background: linear-gradient(135deg, #b71c1c 0%, #e53935 100%);
            box-shadow: 0 15px 30px rgba(229, 57, 53, 0.3);
            border: 2px solid var(--cny-gold);
        }

        .valentine-player.cny-theme .song-title {
            color: var(--cny-gold);
            text-shadow: 1px 1px 4px var(--cny-dark);
        }

        .valentine-player.cny-theme .artist-name {
            color: #ffd700;
        }

        .valentine-player.cny-theme .play-btn,
        .valentine-player.cny-theme .prev-btn,
        .valentine-player.cny-theme .next-btn {
            background-color: var(--cny-red);
            color: var(--cny-gold);
            border: 1px solid var(--cny-gold);
        }

        .valentine-player.cny-theme .play-btn:hover,
        .valentine-player.cny-theme .prev-btn:hover,
        .valentine-player.cny-theme .next-btn:hover {
            background-color: var(--cny-dark);
        }

        .valentine-player.cny-theme .volume-slider::-webkit-slider-thumb {
            background-color: var(--cny-gold);
        }

        .valentine-player.cny-theme .progress-bar::-webkit-slider-thumb {
            background-color: var(--cny-gold);
        }
        
        .valentine-player.cny-theme .progress {
            background: var(--cny-gold);
        }
        
        .valentine-player.cny-theme .artist {
            color: #ffcc80;
        }
        
        .valentine-player.cny-theme .progress-container {
            background: rgba(255, 215, 0, 0.2);
        }
        
        .valentine-player.cny-theme .time-info {
            color: #ffcc80;
        }
        
        .valentine-player.cny-theme .control-btn {
            color: var(--cny-gold);
        }
        
        .valentine-player.cny-theme .control-btn:hover {
            color: #ffcc80;
        }
        
        .valentine-player.cny-theme::before {
            background: radial-gradient(circle, rgba(255,215,0,0.1) 0%, rgba(229,57,53,0.05) 70%, transparent 100%);
        }

        .valentine-player::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,107,139,0.1) 0%, rgba(255,45,78,0.05) 70%, transparent 100%);
            z-index: -1;
            animation: pulse 8s infinite alternate;
        }
        
        .song-title {
            font-family: 'Dancing Script', cursive;
            font-size: 24px;
            color: var(--valentine-dark);
            margin-bottom: 5px;
            transition: all 0.5s ease;
        }
        
        .artist {
            font-size: 14px;
            color: #faa5b7;
            margin-bottom: 20px;
            transition: all 0.5s ease;
        }
        
        .cover-art {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid white;
            box-shadow: 0 5px 15px rgba(168, 50, 83, 0.2);
            margin: 0 auto 20px;
            animation: float 4s ease-in-out infinite;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .control-btn {
            background: none;
            border: none;
            color: var(--valentine-red);
            font-size: 20px;
            cursor: pointer;
            margin: 0 15px;
            transition: all 0.3s;
        }
        
        .control-btn:hover {
            transform: scale(1.2);
            color: var(--valentine-dark);
        }
        
        .play-btn {
            background: var(--valentine-red);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 24px;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 5px 15px rgba(255, 45, 78, 0.4);
            margin-top: 20px;
            margin-bottom: 20px;
            transition: all 0.3s;
        }
        
        .play-btn:hover {
            background: var(--valentine-dark);
        }
        
        .next-song-btn {
            background: var(--valentine-pink);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 3px 10px rgba(255, 107, 139, 0.4);
            transition: all 0.3s;
        }
        
        .next-song-btn:hover {
            background: var(--valentine-red);
            transform: scale(1.1);
        }
        
        .progress-container {
            background: #ffe6eb;
            border-radius: 10px;
            height: 6px;
            margin-bottom: 20px;
            cursor: pointer;
        }
        
        .progress {
            background: var(--valentine-red);
            border-radius: 10px;
            height: 100%;
            width: 0%;
            transition: width 0.1s linear, background 0.5s ease;
        }
        
        .time-info {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: var(--valentine-dark);
            margin-bottom: 20px;
            transition: all 0.5s ease;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .volume-control i {
            color: var(--valentine-red);
            margin-right: 10px;
            transition: all 0.5s ease;
        }
        
        .volume-slider {
            width: 100px;
            height: 4px;
            -webkit-appearance: none;
            background: #ffe6eb;
            border-radius: 2px;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 12px;
            height: 12px;
            background: var(--valentine-red);
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.5s ease;
        }
        
        .hearts-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .heart {
            position: absolute;
            opacity: 0;
            font-size: 20px;
            color: var(--valentine-red);
            animation: float-up 4s linear forwards;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.5; }
            100% { transform: scale(1.2); opacity: 0.8; }
        }
        
        @keyframes float-up {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100px) rotate(20deg); opacity: 0; }
        }
        
        /* Hide default audio controls */
        #valentine-audio {
            display: none;
        }
    </style>
</head>
<body>
    <header class="nav" id="nav">
        <a href="../index.html" class="logo">R-SHS</a>

        <nav>
            <a href="#album">Album</a>
        </nav>
    </header>
    <nav class="navbar">
        <a href="#header" class="nav-item active">
            <div class="nav-icon"><img src="../assets/main/home.png" alt=""></div>
            <span>Home</span>
        </a>
        <a href="#main" class="nav-item">
            <div class="nav-icon"><img src="../assets/main/gallery.png" alt=""></div>
            <span>Album</span>
        </a>
        <a href="../index.html" class="nav-item">
            <div class="nav-icon"><img src="../assets/main/header.png" alt=""></div>
            <span>Main Page</span>
        </a>
    </nav>
    <section id="header">
        <div class="valentine-player">
            <div class="hearts-container" id="hearts-container"></div>
            
            <img src="../assets/songs/careless-whisper.jpg" alt="Careless Whisper Cover" class="cover-art" id="cover-art">
            <h1 class="song-title" id="song-title">Slither Sweetheart</h1>
            <p class="artist" id="artist">-RSHS</p>
            
            <div class="progress-container" id="progress-container">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="time-info">
                <span id="current-time">0:00</span>
                <span id="duration">0:00</span>
            </div>
            
            <div class="controls">
                <button class="control-btn" id="prev-btn" title="Previous Song"><i class="fas fa-step-backward"></i></button>
                <button class="control-btn play-btn" id="play-btn" title="Play/Pause"><i class="fas fa-play"></i></button>
                <button class="control-btn next-song-btn" id="next-btn" title="Next Song"><i class="fas fa-step-forward"></i></button>
            </div>
            
            <div class="volume-control">
                <i class="fas fa-volume-up"></i>
                <input type="range" class="volume-slider" id="volume-slider" min="0" max="1" step="0.01" value="0.7">
            </div>
            
            <audio id="valentine-audio">
                <source src="../assets/songs/careless-whisper.mp3" type="audio/mpeg">
            </audio>
        </div>
    </section>

    <section id="main">
        <div class="about">
            <div class="about-text">
                <h1>What is Slither Sweetheart?</h1>
                <p>Event ini adalah event yang penuh dengan kasih sayang, dimana semuanya bersatu atas dasar cinta, dengan campuran tradisi China dengan event tahun baru "Imlek". Jadi terimakasih untuk semuanya yang telah menjalani event ini dengan semangat!</p>
            </div>
        </div>
        <div class="album" id="album">
            <div class="content">
                <!-- content images -->
            </div>
        </div>
    </section>

    <!-- Bg Song -->
    <!-- Font Awesome for icons -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    
    <script>
        // Song playlist
        const songs = [
            {
                title: "Slither Sweetheart",
                artist: "-RSHS",
                cover: "../assets/songs/careless-whisper.jpg",
                source: "../assets/songs/careless-whisper.mp3",
                theme: "valentine"
            },
            {
                title: "Chinese New Year",
                artist: "-RSHS",
                cover: "../assets/albums/slither-sweetheart/DSC09800 (2).jpg",
                source: "../assets/songs/chinese_newyear.mp3",
                theme: "cny"
            }
        ];

        const audio = document.getElementById('valentine-audio');
        const playBtn = document.getElementById('play-btn');
        const progress = document.getElementById('progress');
        const progressContainer = document.getElementById('progress-container');
        const currentTimeEl = document.getElementById('current-time');
        const durationEl = document.getElementById('duration');
        const volumeSlider = document.getElementById('volume-slider');
        const heartsContainer = document.getElementById('hearts-container');
        const coverArt = document.getElementById('cover-art');
        const songTitle = document.getElementById('song-title');
        const artist = document.getElementById('artist');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const player = document.querySelector('.valentine-player');
        
        let currentSongIndex = 0;
        let isPlaying = false;

        // Initialize player with first song
        function loadSong(songIndex) {
            const song = songs[songIndex];
            songTitle.textContent = song.title;
            artist.textContent = song.artist;
            coverArt.src = song.cover;
            audio.src = song.source;
            
            // Set theme based on song
            player.classList.remove('valentine-theme', 'cny-theme');
            if (song.theme === 'cny') {
                player.classList.add('cny-theme');
            } else {
                player.classList.add('valentine-theme');
            }
            
            // Load the new song
            audio.load();
            
            // If player was playing, continue playing
            if (isPlaying) {
                audio.play().then(() => {
                    playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                    startHearts();
                });
            }
        }

        // Play/Pause
        playBtn.addEventListener('click', () => {
            if (audio.paused) {
                audio.play();
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                startHearts();
                isPlaying = true;
            } else {
                audio.pause();
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
                stopHearts();
                isPlaying = false;
            }
        });
        
        // Update progress bar
        audio.addEventListener('timeupdate', updateProgress);
        
        // Click on progress bar to seek
        progressContainer.addEventListener('click', setProgress);
        
        // Volume control
        volumeSlider.addEventListener('input', () => {
            audio.volume = volumeSlider.value;
        });
        
        // Update song time display
        audio.addEventListener('timeupdate', updateTime);
        
        // When song ends, play next song
        audio.addEventListener('ended', nextSong);
        
        // Previous song button
        prevBtn.addEventListener('click', prevSong);
        
        // Next song button
        nextBtn.addEventListener('click', nextSong);
        
        // Try to autoplay (may not work due to browser restrictions)
        document.addEventListener('click', () => {
            loadSong(currentSongIndex);
            audio.play().then(() => {
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                startHearts();
                isPlaying = true;
            }).catch(error => {
                console.log("Autoplay prevented:", error);
            });
        }, { once: true });
        
        function updateProgress() {
            const { duration, currentTime } = audio;
            const progressPercent = (currentTime / duration) * 100;
            progress.style.width = `${progressPercent}%`;
        }
        
        function setProgress(e) {
            const width = this.clientWidth;
            const clickX = e.offsetX;
            const duration = audio.duration;
            audio.currentTime = (clickX / width) * duration;
        }
        
        function updateTime() {
            const currentMinutes = Math.floor(audio.currentTime / 60);
            const currentSeconds = Math.floor(audio.currentTime % 60).toString().padStart(2, '0');
            currentTimeEl.textContent = `${currentMinutes}:${currentSeconds}`;
            
            const durationMinutes = Math.floor(audio.duration / 60);
            const durationSeconds = Math.floor(audio.duration % 60).toString().padStart(2, '0');
            
            if (durationSeconds) {
                durationEl.textContent = `${durationMinutes}:${durationSeconds}`;
            }
        }
        
        // Play next song
        function nextSong() {
            currentSongIndex = (currentSongIndex + 1) % songs.length;
            loadSong(currentSongIndex);
            if (isPlaying) {
                audio.play();
            }
        }
        
        // Play previous song
        function prevSong() {
            currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
            loadSong(currentSongIndex);
            if (isPlaying) {
                audio.play();
            }
        }
        
        // Heart animation functions
        let heartInterval;
        
        function startHearts() {
            stopHearts(); // Clear any existing interval
            
            const currentTheme = songs[currentSongIndex].theme;
            heartInterval = setInterval(() => {
                createHeart(currentTheme);
            }, 300);
        }
        
        function stopHearts() {
            clearInterval(heartInterval);
        }
        
        function createHeart(theme) {
            const heart = document.createElement('div');
            heart.innerHTML = '❤️';
            heart.classList.add('heart');
            
            // Set color based on theme
            if (theme === 'cny') {
                // Use gold or red for CNY theme
                heart.style.color = Math.random() > 0.5 ? 'var(--cny-gold)' : 'var(--cny-red)';
            } else {
                // Use pink/red shades for Valentine theme
                const colors = ['#ff6b8b', '#ff8e9e', '#ffb3c1', '#ffd7e0', '#ffffff'];
                heart.style.color = colors[Math.floor(Math.random() * colors.length)];
            }
            
            // Random position at the bottom
            heart.style.left = Math.random() * 100 + '%';
            heart.style.bottom = '-20px';
            
            // Random size
            const size = Math.random() * 20 + 10;
            heart.style.fontSize = size + 'px';
            
            // Random animation duration
            heart.style.animationDuration = Math.random() * 3 + 2 + 's';
            
            heartsContainer.appendChild(heart);
            
            // Remove heart after animation completes
            setTimeout(() => {
                heart.remove();
            }, 4000);
        }
    </script>
    <script src="gallery-valentine.js"></script>
    <script>
        // Create infinite floating hearts
        function createHearts() {
            const colors = ['#ff6b8b', '#ff8e9e', '#ffb3c1', '#ffd7e0', '#ffffff'];
            
            // Create hearts continuously
            setInterval(() => {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = '❤';
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
                heart.style.opacity = Math.random() * 0.5 + 0.3;
                heart.style.animationDuration = (Math.random() * 10 + 5) + 's';
                heart.style.color = colors[Math.floor(Math.random() * colors.length)];
                
                document.body.appendChild(heart);
                
                // Remove heart after animation completes
                setTimeout(() => {
                    heart.remove();
                }, parseFloat(heart.style.animationDuration) * 1000);
            }, 300);
        }
        
        // Call the function when the page loads
        window.onload = createHearts;
    </script>
</body>
</html>